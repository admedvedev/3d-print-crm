# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel Postgres –¥–ª—è 3D Print CRM

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ Vercel Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç `3d-print-crm`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Storage**
4. –ù–∞–∂–º–∏—Ç–µ **Create Database** ‚Üí **Postgres**
5. –ù–∞–∑–æ–≤–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `3d-print-crm-db`
6. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `POSTGRES_URL`
- `POSTGRES_PRISMA_URL` 
- `POSTGRES_URL_NON_POOLING`

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
```
https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/init-db
```
–ò –æ—Ç–ø—Ä–∞–≤—å—Ç–µ POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### 4. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Postgres API
–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã API:

```bash
# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
mv api/users.js api/users-old.js
mv api/printers.js api/printers-old.js

# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
mv api/users-postgres.js api/users.js
mv api/printers-postgres.js api/printers.js
```

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö Postgres API endpoints
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã:
- `api/filaments-postgres.js`
- `api/clients-postgres.js` 
- `api/orders-postgres.js`
- `api/settings-postgres.js`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ users
- `id` - UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `email` - Email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `password` - –ü–∞—Ä–æ–ª—å (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- `name` - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### –¢–∞–±–ª–∏—Ü–∞ printers
- `id` - UUID –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- `power` - –ú–æ—â–Ω–æ—Å—Ç—å (–í—Ç)
- `cost` - –°—Ç–æ–∏–º–æ—Å—Ç—å
- `depreciation` - –ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è (%)
- `total_hours` - –û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

### –¢–∞–±–ª–∏—Ü–∞ filaments
- `id` - UUID –ø–ª–∞—Å—Ç–∏–∫–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Å—Ç–∏–∫–∞
- `weight` - –í–µ—Å (–∫–≥)
- `cost` - –°—Ç–æ–∏–º–æ—Å—Ç—å
- `color` - –¶–≤–µ—Ç (HEX)
- `in_stock` - –í –Ω–∞–ª–∏—á–∏–∏

### –¢–∞–±–ª–∏—Ü–∞ clients
- `id` - UUID –∫–ª–∏–µ–Ω—Ç–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `name` - –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- `email` - Email –∫–ª–∏–µ–Ω—Ç–∞
- `phone` - –¢–µ–ª–µ—Ñ–æ–Ω

### –¢–∞–±–ª–∏—Ü–∞ orders
- `id` - UUID –∑–∞–∫–∞–∑–∞
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `task_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `client_id` - ID –∫–ª–∏–µ–Ω—Ç–∞
- `client_name` - –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
- `printer_id` - ID –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- `printer_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- `filament_id` - ID –ø–ª–∞—Å—Ç–∏–∫–∞
- `filament_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Å—Ç–∏–∫–∞
- `print_time_hours` - –í—Ä–µ–º—è –ø–µ—á–∞—Ç–∏ (—á–∞—Å—ã)
- `print_time_minutes` - –í—Ä–µ–º—è –ø–µ—á–∞—Ç–∏ (–º–∏–Ω—É—Ç—ã)
- `weight` - –í–µ—Å (–≥)
- `markup` - –ù–∞—Ü–µ–Ω–∫–∞ (%)
- `status` - –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
- `cost` - –°—Ç–æ–∏–º–æ—Å—Ç—å
- `date` - –î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞

### –¢–∞–±–ª–∏—Ü–∞ settings
- `id` - UUID –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `electricity_rate` - –¢–∞—Ä–∏—Ñ –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏—é
- `currency` - –í–∞–ª—é—Ç–∞
- `default_markup` - –ù–∞—Ü–µ–Ω–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üîß –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Postgres –Ω–∞–¥ in-memory

1. **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
4. **–ò–Ω–¥–µ–∫—Å—ã** - –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫
5. **Backup** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. **–û—à–∏–±–∫–∏**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. **–ò–Ω–¥–µ–∫—Å—ã**: –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π
5. **–õ–∏–º–∏—Ç—ã**: Vercel Postgres –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í Vercel Dashboard –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
